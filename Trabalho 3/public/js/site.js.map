{"version":3,"sources":["csrf-token.js","checkAll.js","mask.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"site.js","sourcesContent":["$.ajaxPrefilter(function (options, originalOptions, xhr) { // this will run before each request\r\n    var token = $('meta[name=\"csrf-token\"]').attr('content'); // or _token, whichever you are using\r\n    if (token) {\r\n        return xhr.setRequestHeader('X-CSRF-TOKEN', token); // adds directly to the XmlHttpRequest Object\r\n    }\r\n});","$.fn['appCheckAll'] = function () {\r\n    var handle = '#selectAll';\r\n    var checks = '.checkAll';\r\n\r\n    var self = this;\r\n    if (self.length == 0)\r\n        self = $(handle);\r\n\r\n    return self.each(function () {\r\n        var $select = $(this);\r\n\r\n        var $checks = $(checks);\r\n        $select.change(function () {\r\n            $checks.prop('checked', $(this).prop(\"checked\"));\r\n        });\r\n\r\n        $checks.click(function (e) {  //on click\r\n            $checks.each(function () {\r\n                if (!this.checked) {\r\n                    $select.prop('checked', false);\r\n                    return false;\r\n                }\r\n            });\r\n        });\r\n\r\n    });\r\n};\r\n","var _mask = {\r\n    'money': 'input.mask-money',\r\n    'int': 'input.mask-int',\r\n    'float': 'input.mask-float',\r\n    'cep': 'input.mask-cep',\r\n    'cnpj': 'input.mask-cnpj',\r\n    'placa': 'input.mask-placa',\r\n    'veiculo-doc': 'input.mask-veiculo-doc',\r\n    'telefone': 'input.mask-telefone',\r\n    'licenca': 'input.mask-licenca',\r\n    'alvara-numero': 'input.mask-alvara-numero',\r\n    'isc-municipal': 'input.mask-isc-municipal',\r\n    'date': '[class*=\"mask-date\"]'\r\n};\r\n\r\n\r\n/**\r\n * mask in input, plugin jQuery-Mask-Plugin\r\n * @see http://igorescobar.github.io/jQuery-Mask-Plugin/\r\n * @param mask\r\n * @param options\r\n */\r\n$.fn['appMask'] = function (mask, options) {\r\n    if (typeof $.fn.mask === 'undefined') {\r\n        throw new Error('Artico requires jQuery-Mask-Plugin');\r\n    }\r\n    this.mask(mask, options);\r\n};\r\n\r\n$.fn['appSetMoney'] = function (value) {\r\n    return this.maskMoney('mask', parseFloat(value));\r\n};\r\n$.fn['appUnmask'] = function (mask, options) {\r\n    if (typeof $.fn.unmask === 'undefined') {\r\n        throw new Error('Artico requires jQuery-Mask-Plugin');\r\n    }\r\n    this.unmask(mask, options);\r\n};\r\n\r\n\r\n$.fn['appUnmaskValue'] = function (mask_name, options) {\r\n    var self = this;\r\n    if (typeof mask_name === 'undefined') {\r\n        if (self.hasClass('mask-money'))\r\n            mask_name = 'money';\r\n        if (self.hasClass('mask-float'))\r\n            mask_name = 'float';\r\n        else if (self.hasClass('mask-int'))\r\n            mask_name = 'int';\r\n    }\r\n\r\n    switch (mask_name) {\r\n        case 'int':\r\n            //self = self.length != 0 ? self : $(_mask['int']);\r\n            var value = self.val();\r\n            if (value == '' || typeof value === 'undefined')\r\n                return 0;\r\n\r\n            value = value.replace(/[.]/g, '').replace(',', '.');\r\n            return value;\r\n\r\n        case 'float':\r\n            self.appUnmask();\r\n            var value = self.val();\r\n            if (value == '' || typeof value === 'undefined')\r\n                return 0;\r\n\r\n            if (value.length > 2)\r\n                value = value / 100;\r\n            self.appMaskApply('float');\r\n            //self = self.length != 0 ? self : $(_mask['float'] + ':eq(0)');\r\n//            value = value.replace(/[.]/g, '').replace(',', '.');\r\n            return parseFloat(value);\r\n\r\n        case 'money':\r\n            var value = self.val();\r\n            if (value == '' || typeof value === 'undefined')\r\n                return 0;\r\n            value = value.replace(/[.]/g, '').replace(',', '.');\r\n            return value;\r\n    }\r\n};\r\n\r\n/**\r\n * inicializa uma serie de mascaras j√° pre-definidas para o sistema, plugin jQuery-Mask-Plugin\r\n * @see http://igorescobar.github.io/jQuery-Mask-Plugin/\r\n * @param mask_name\r\n */\r\n$.fn['appMaskApply'] = function (mask_name) {\r\n    var self = this;\r\n\r\n    //console.log('apply maks: ' + mask_name);\r\n    switch (mask_name) {\r\n        case 'money':\r\n            self = self.length != 0 ? self : $(_mask['money']);\r\n            if (typeof $.fn.maskMoney === 'undefined')\r\n                throw  new Error('Artico requires jQuery-MaskMoney');\r\n            self.maskMoney({allowNegative: false, thousands: '.', decimal: ',', affixesStay: false});\r\n            break;\r\n\r\n        case 'int':\r\n            self = self.length != 0 ? self : $(_mask['int']);\r\n            self.appMask('000.000.000.000.000', {reverse: true});\r\n            break;\r\n\r\n        case 'float':\r\n            self = self.length != 0 ? self : $(_mask['float']);\r\n            self.appMask('000.000.000.000.000,00', {reverse: true});\r\n            break;\r\n\r\n        case 'cep':\r\n            self = self.length != 0 ? self : $(_mask['cep']);\r\n            self.appMask('00000-000');\r\n            break;\r\n\r\n        case 'cnpj':\r\n            self = self.length != 0 ? self : $(_mask['cnpj']);\r\n            self.appMask('00.000.000/0000-00');\r\n            break;\r\n\r\n        case 'placa':\r\n            self = self.length != 0 ? self : $(_mask['placa']);\r\n            self.appMask('SSS-0000', {\r\n                'translation': {\r\n                    S: {pattern: /[A-Za-z]/},\r\n                    0: {pattern: /[0-9]/}\r\n                },\r\n                onKeyPress: function (value, event) {\r\n                    event.currentTarget.value = value.toUpperCase();\r\n                }\r\n            });\r\n            break;\r\n\r\n        case 'veiculo-doc':\r\n            self = self.length != 0 ? self : $(_mask['veiculo-doc']);\r\n            self.appMask('000000000000');\r\n            break;\r\n\r\n        case 'licenca':\r\n            self = self.length != 0 ? self : $(_mask['licenca']);\r\n            self.appMask('00000000');\r\n            break;\r\n\r\n        case 'isc-municipal':\r\n            self = self.length != 0 ? self : $(_mask['isc-municipal']);\r\n            self.appMask('000000/000-0');\r\n            break;\r\n\r\n        case 'alvara-numero':\r\n            self = self.length != 0 ? self : $(_mask['alvara-numero']);\r\n            self.appMask('000.000.000.000.000');\r\n            break;\r\n\r\n        case 'telefone':\r\n            self = self.length != 0 ? self : $(_mask['telefone']);\r\n            var SPMaskBehavior = function (val) {\r\n                    return val.replace(/\\D/g, '').length === 11 ? '(00) 00000-0000' : '(00) 0000-00009';\r\n                },\r\n                spOptions = {\r\n                    onKeyPress: function (val, e, field, options) {\r\n                        field.mask(SPMaskBehavior.apply({}, arguments), options);\r\n                    }\r\n                };\r\n\r\n            self.appMask(SPMaskBehavior, spOptions);\r\n            break;\r\n        default :\r\n            console.error('Mask \\'' + mask_name + '\\' not defined.');\r\n    }\r\n};\r\n$.fn['appUnmaskApply'] = function (mask_name, options) {\r\n    var self = this;\r\n\r\n    var unmask_build = function (item, $mask) {\r\n        item = item.length != 0 ? item : $(_mask[$mask]);\r\n        item.appUnmask();\r\n    };\r\n\r\n    switch (mask_name) {\r\n        case 'money':\r\n            self = self.length != 0 ? self : $(_mask['money']);\r\n            self.each(function () {\r\n                var item = $(this);\r\n                var value = item.val();\r\n                if (value == '' || typeof value === 'undefined') {\r\n                    item.val(0);\r\n                } else {\r\n                    value = value.replace(/[.]/g, '').replace(',', '.');\r\n                    item.val(parseFloat(value));\r\n                }\r\n            });\r\n            break;\r\n\r\n        case 'int':\r\n            self = self.length != 0 ? self : $(_mask['int']);\r\n            self.each(function () {\r\n                var item = $(this);\r\n                var value = item.val();\r\n                value = value.replace(/[.]/g, '').replace(',', '.');\r\n                item.val(parseFloat(value));\r\n            });\r\n            break;\r\n\r\n        case 'float':\r\n            self = self.length != 0 ? self : $(_mask['float']);\r\n            self.each(function () {\r\n                var item = $(this);\r\n                var value = item.val();\r\n                value = value.replace(/[.]/g, '').replace(',', '.');\r\n                item.val(parseFloat(value));\r\n            });\r\n            break;\r\n\r\n        case 'date':\r\n            self = self.length != 0 ? self : $(_mask['date']);\r\n            self.each(function () {\r\n                var item = $(this);\r\n                var $datepicker = item.data(\"DateTimePicker\");\r\n                options = options || [];\r\n                //var format = options.format || $datepicker.options.pickTime ? 'YYYY-MM-DD H:m' : 'YYYY-MM-DD';\r\n                var input = item.find('input');\r\n                if (input.val() != '') {\r\n                    var date = $datepicker.getDate();\r\n                    if (date != null)\r\n                    //date = date.format(format);\r\n                    //    date = date.format();\r\n                        date = date.toISOString();\r\n                    input.val(date);\r\n                }\r\n            });\r\n            break;\r\n\r\n        case 'veiculo-doc':\r\n            unmask_build(self, 'veiculo-doc');\r\n            break;\r\n        case 'placa':\r\n            unmask_build(self, 'placa');\r\n            break;\r\n        case 'telefone':\r\n            unmask_build(self, 'telefone');\r\n            break;\r\n        case 'cep':\r\n            unmask_build(self, 'cep');\r\n            break;\r\n        case 'cnpj':\r\n            unmask_build(self, 'cnpj');\r\n            break;\r\n        case 'licenca':\r\n            unmask_build(self, 'licenca');\r\n            break;\r\n        case 'alvara-numero':\r\n            unmask_build(self, 'alvara-numero');\r\n            break;\r\n        case 'isc-municipal':\r\n            unmask_build(self, 'isc-municipal');\r\n            break;\r\n\r\n        default :\r\n            console.error('Unmask \\'' + mask_name + '\\' not defined.');\r\n    }\r\n};\r\n\r\n\r\n$['appMaskApplyAll'] = function () {\r\n    var items = [\r\n        'money',\r\n        'int',\r\n        'float',\r\n        'cep',\r\n        'cnpj',\r\n        'placa',\r\n        'licenca',\r\n        'telefone',\r\n        'alvara-numero',\r\n        'isc-municipal'\r\n    ];\r\n\r\n\r\n    $.each(items, function (index, item) {\r\n        $().appMaskApply(item);\r\n    });\r\n};\r\n\r\n$(document).ready(function () {\r\n    if (typeof $.fn.mask === 'function') {\r\n        $.appMaskApplyAll();\r\n    }\r\n});\r\n"],"sourceRoot":"/source/"}